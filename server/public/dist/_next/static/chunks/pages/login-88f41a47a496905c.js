(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[295],{48:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>i});var l=s(7876),a=s(4232),r=s(1040),n=s(4e3),o=s(4587),c=s.n(o);let i=()=>{let[e,t]=(0,a.useState)(""),[s,o]=(0,a.useState)(""),[i,d]=(0,a.useState)(""),m=(0,n.useRouter)(),[u,h]=(0,a.useState)(!0);(0,a.useEffect)(()=>{localStorage.getItem("auth_token")?m.push("/"):h(!1)},[]);let p=async t=>{t.preventDefault(),d("");try{let t=await r.A.post("".concat("http://localhost:8000","/api/login"),{username:e,password:s});t.data.success?(localStorage.setItem("auth_token",t.data.data.token),m.push("/")):d(t.data.message||"Login failed")}catch(e){var l,a;console.error(e),d((null==(a=e.response)||null==(l=a.data)?void 0:l.message)||"An error occurred during login")}};return(0,l.jsx)("div",{className:"",children:(0,l.jsxs)("section",{className:"vh-100",children:[(0,l.jsx)("div",{className:"container-fluid h-custom",children:(0,l.jsxs)("div",{className:"row d-flex justify-content-center align-items-center h-100",children:[(0,l.jsx)("div",{className:"col-md-9 col-lg-6 col-xl-5",children:(0,l.jsx)(c(),{src:"https://mdbcdn.b-cdn.net/img/Photos/new-templates/bootstrap-login-form/draw2.webp",alt:"foto",className:"img-fluid",height:500,width:500})}),(0,l.jsx)("div",{className:"col-md-8 col-lg-6 col-xl-4 offset-xl-1",children:(0,l.jsxs)("form",{onSubmit:p,children:[(0,l.jsx)("div",{className:"form-outline mb-4",children:(0,l.jsx)("input",{type:"text",className:"form-control form-control-lg",placeholder:"Enter a valid username",value:e,onChange:e=>t(e.target.value),required:!0})}),(0,l.jsx)("div",{className:"form-outline mb-3",children:(0,l.jsx)("input",{type:"password",className:"form-control form-control-lg",placeholder:"Enter password",value:s,onChange:e=>o(e.target.value),required:!0})}),i&&(0,l.jsx)("p",{className:"text-danger",children:i}),(0,l.jsx)("div",{className:"text-center text-lg-start mt-4 pt-2",children:(0,l.jsx)("button",{type:"submit",className:"btn btn-primary btn-lg",style:{paddingLeft:50,paddingRight:50},children:"Login"})})]})})]})}),(0,l.jsx)("div",{className:"d-flex flex-column flex-md-row text-center text-md-start justify-content-between py-4 px-4 px-xl-5 bg-primary",children:(0,l.jsx)("div",{className:"text-white mb-3 mb-md-0",children:"Copyright \xa9 IT Dept 2025. All rights reserved."})})]})})}},5745:(e,t,s)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/login",function(){return s(48)}])}},e=>{var t=t=>e(e.s=t);e.O(0,[587,636,593,792],()=>t(5745)),_N_E=e.O()}]);