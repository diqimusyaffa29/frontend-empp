(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[295],{48:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>i});var s=a(7876),l=a(4232),r=a(1040),n=a(4e3),o=a(4587),c=a.n(o);let i=()=>{let[e,t]=(0,l.useState)(""),[a,o]=(0,l.useState)(""),[i,d]=(0,l.useState)(""),m=(0,n.useRouter)(),[u,h]=(0,l.useState)(!0);(0,l.useEffect)(()=>{localStorage.getItem("auth_token")?m.push("/"):h(!1)},[m]);let g=async t=>{t.preventDefault(),d("");try{let t=await r.A.post("".concat("https://e-mpp.rsisabanjarbaru.com","/api/login"),{username:e,password:a});t.data.success?(localStorage.setItem("auth_token",t.data.token),localStorage.setItem("user",JSON.stringify(t.data.data.user)),localStorage.setItem("roles",t.data.data.roles),localStorage.setItem("rs",JSON.stringify(t.data.data.rs)),m.push("/")):d(t.data.message||"Login failed")}catch(e){var s,l;console.error(e),d((null==(l=e.response)||null==(s=l.data)?void 0:s.message)||"An error occurred during login")}};return(0,s.jsx)("div",{className:"",children:(0,s.jsxs)("section",{className:"vh-100",children:[(0,s.jsx)("div",{className:"container-fluid h-custom",children:(0,s.jsxs)("div",{className:"row d-flex justify-content-center align-items-center h-100",children:[(0,s.jsx)("div",{className:"col-md-9 col-lg-6 col-xl-5",children:(0,s.jsx)(c(),{src:"https://mdbcdn.b-cdn.net/img/Photos/new-templates/bootstrap-login-form/draw2.webp",alt:"foto",className:"img-fluid",height:500,width:500})}),(0,s.jsx)("div",{className:"col-md-8 col-lg-6 col-xl-4 offset-xl-1",children:(0,s.jsxs)("form",{onSubmit:g,children:[(0,s.jsx)("div",{className:"form-outline mb-4",children:(0,s.jsx)("input",{type:"text",className:"form-control form-control-lg",placeholder:"Enter a valid username",value:e,onChange:e=>t(e.target.value),required:!0})}),(0,s.jsx)("div",{className:"form-outline mb-3",children:(0,s.jsx)("input",{type:"password",className:"form-control form-control-lg",placeholder:"Enter password",value:a,onChange:e=>o(e.target.value),required:!0})}),i&&(0,s.jsx)("p",{className:"text-danger",children:i}),(0,s.jsx)("div",{className:"text-center text-lg-start mt-4 pt-2",children:(0,s.jsx)("button",{type:"submit",className:"btn btn-primary btn-lg",style:{paddingLeft:50,paddingRight:50},children:"Login"})})]})})]})}),(0,s.jsx)("div",{className:"d-flex flex-column flex-md-row text-center text-md-start justify-content-between py-4 px-4 px-xl-5 bg-primary",children:(0,s.jsx)("div",{className:"text-white mb-3 mb-md-0",children:"Copyright \xa9 IT Dept 2025. All rights reserved."})})]})})}},5745:(e,t,a)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/login",function(){return a(48)}])}},e=>{var t=t=>e(e.s=t);e.O(0,[587,40,636,593,792],()=>t(5745)),_N_E=e.O()}]);